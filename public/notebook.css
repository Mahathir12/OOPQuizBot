/* notebook.css - full */
:root{
  --bg:#FBFCFE; --ink:#0B0F14; --muted:#6B7380;
  --accent:#4C7DF0; --ok:#22B07D; --danger:#E47272;
  --paper-line:#E7EAF0; --paper-margin:#E47272; --code-bg:#F4F6FB;
}
:root[data-theme="dark"]{
  --bg:#0B0F14; --ink:#E8EEF5; --muted:#99A6B6;
  --accent:#7BA2FF; --ok:#39C691; --danger:#FF8D8D;
  --paper-line:#16202C; --paper-margin:#B56565; --code-bg:#111926;
}

*{ box-sizing:border-box }
html,body{ height:100%; margin:0; background:var(--bg); color:var(--ink); font: 15px/1.65 Inter,system-ui,Segoe UI,Arial }
a{ color:var(--accent); text-decoration:none }
a:hover{ text-decoration:underline }

.toolbar{
  position:sticky; top:0; z-index:5;
  display:flex; gap:8px; align-items:center;
  padding:10px 12px; background:var(--bg);
  border-bottom:1px solid var(--paper-line);
}
.toolbar button,.toolbar select,.toolbar input[type="color"],.toolbar input[type="number"]{
  border:1px solid var(--paper-line); background:transparent; color:var(--ink);
  padding:6px 10px; border-radius:8px; outline:none;
}
.toolbar button.active{ border-color:var(--accent); box-shadow:0 0 0 2px color-mix(in srgb, var(--accent), transparent 70%); }
.toolbar .right{ margin-left:auto; display:flex; gap:8px; align-items:center }

.sheet-wrap{
  display:flex; justify-content:center; padding:24px;
}
.sheet{
  position:relative; width:794px; /* A4 width @ 96dpi ≈ 794px */
  min-height:1123px; /* A4 height @ 96dpi ≈ 1123px */
  padding:48px 56px 72px 72px;
  background:
    linear-gradient(to right, transparent 56px, var(--paper-margin) 56px, var(--paper-margin) 57px, transparent 57px),
    repeating-linear-gradient(var(--bg), var(--bg) 27px, var(--paper-line) 28px);
  border-radius:14px; box-shadow:0 1px 2px rgba(0,0,0,.06), 0 6px 20px rgba(0,0,0,.06);
  overflow:hidden;
}

/* Canvas sits on top of content for drawing */
#inkCanvas{
  position:absolute; inset:0; width:100%; height:100%;
  pointer-events:auto;
}

/* Text layer */
#blocks{
  position:relative; z-index:1;
}
.note-text{
  min-height:24px; padding:2px 4px; outline:none; border-radius:6px;
}
.note-text:focus{ box-shadow:0 0 0 2px color-mix(in srgb, var(--accent), transparent 70%); }

/* Code block (simple) */
pre.code{ background:var(--code-bg); padding:10px 12px; border-radius:10px; overflow:auto; }

/* Ruler/grid overlays */
#gridOverlay{ position:absolute; inset:0; z-index:0; pointer-events:none; display:none; background:
  linear-gradient(transparent 39px, color-mix(in srgb, var(--accent), transparent 90%) 40px),
  linear-gradient(90deg, transparent 39px, color-mix(in srgb, var(--accent), transparent 90%) 40px);
  background-size:40px 40px;
}
#rulerX,#rulerY{
  position:absolute; background:color-mix(in srgb, var(--ink), transparent 85%); z-index:2; display:none
}
#rulerX{ height:1px; left:0; right:0 }
#rulerY{ width:1px; top:0; bottom:0 }

/* Tables */
table.note-table{ border-collapse:collapse; margin:10px 0 }
table.note-table td, table.note-table th{
  border:1px solid var(--paper-line); padding:6px 8px; min-width:48px;
}

/* Print A4 multi-page */
@media print{
  body{ background:white }
  .toolbar{ display:none }
  .sheet-wrap{ padding:0 }
  .sheet{
    box-shadow:none; page-break-after:always;
    width:210mm; min-height:297mm; padding:15mm 18mm 20mm 20mm;
    background:
      linear-gradient(to right, transparent 20mm, #f99 20mm, #f99 20.5mm, transparent 20.5mm),
      repeating-linear-gradient(white, white 9mm, #eee 9.5mm);
  }
}
